<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('Review Document', ~{::content})}">

<body>
    <div th:fragment="content">
        <h2 class="mb-4"><i class="fas fa-eye"></i> Review Document</h2>
        <div class="card mb-3">
            <div class="card-body">
                <h5 th:text="${document.originalFileName}"></h5>
                <p><strong>Student:</strong> <span th:text="${document.student.user.fullName}"></span></p>
                <p><strong>Request Message:</strong> <span th:text="${document.requestMessage}"></span></p>
                <p><strong>Status:</strong> 
                    <span th:switch="${document.status}" class="badge">
                        <span th:case="PENDING" class="badge bg-warning">Pending</span>
                        <span th:case="REVIEWED" class="badge bg-info">Reviewed</span>
                        <span th:case="APPROVED" class="badge bg-success">Approved</span>
                        <span th:case="REJECTED" class="badge bg-danger">Rejected</span>
                    </span>
                </p>
                <a th:href="@{'/uploads/' + ${document.fileName}}" target="_blank" class="btn btn-primary">
                    <i class="fas fa-download"></i> Download Document
                </a>
            </div>
        </div>
        <form th:action="@{/teacher/document/{id}/review(id=${document.id})}" method="post" class="card p-4">
            <div class="mb-3">
                <label for="remarks" class="form-label">Remarks</label>
                <textarea class="form-control" id="remarks" name="remarks" rows="5" th:value="${document.remarks}"></textarea>
            </div>
            <div class="mb-3">
                <label for="status" class="form-label">Status</label>
                <select class="form-select" id="status" name="status" required>
                    <option value="PENDING" th:selected="${document.status == T(com.it.ai_mentoring_system.model.Document.DocumentStatus).PENDING}">Pending</option>
                    <option value="REVIEWED" th:selected="${document.status == T(com.it.ai_mentoring_system.model.Document.DocumentStatus).REVIEWED}">Reviewed</option>
                    <option value="APPROVED" th:selected="${document.status == T(com.it.ai_mentoring_system.model.Document.DocumentStatus).APPROVED}">Approved</option>
                    <option value="REJECTED" th:selected="${document.status == T(com.it.ai_mentoring_system.model.Document.DocumentStatus).REJECTED}">Rejected</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Submit Review
            </button>
        </form>
    </div>
</body>
</html>




