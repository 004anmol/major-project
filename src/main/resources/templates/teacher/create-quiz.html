<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('Create Quiz', ~{::content})}">

<body>
<div th:fragment="content">

    <h2 class="mb-4"><i class="fas fa-plus-circle"></i> Create Quiz</h2>

    <form th:action="@{/teacher/quiz/create}" method="post" class="card p-4">

        <div class="mb-3">
            <label for="studentId" class="form-label">Student</label>
            <select class="form-select" id="studentId" name="studentId" required>
                <option value="">Select Student</option>
                <option th:each="student : ${students}"
                        th:value="${student.id}"
                        th:text="${student.user.fullName}">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" id="title" name="title" required
                   placeholder="e.g., Java Fundamentals Quiz">
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea class="form-control" id="description" name="description" rows="3"
                      placeholder="Brief description of the quiz"></textarea>
        </div>

        <div class="mb-3">
            <label for="timeLimit" class="form-label">
                <i class="fas fa-clock"></i> Time Limit
            </label>
            <select class="form-select" id="timeLimit" name="timeLimit" required>
                <option value="10">10 Minutes</option>
                <option value="20" selected>20 Minutes</option>
                <option value="30">30 Minutes</option>
            </select>
            <small class="form-text text-muted">Students will have this much time to complete the quiz</small>
        </div>

        <div class="mb-3">
            <label for="questions" class="form-label">Questions (JSON Format)</label>
            <textarea class="form-control"
                      id="questions"
                      name="questions"
                      rows="10"
                      required
                      placeholder='{
    "questions": [
        {
            "question": "What is Java?",
            "options": ["Language", "Framework", "OS", "Protocol"],
            "correctAnswer": 0,
            "explanation": "Java is a programming language."
        }
    ]
}'>
            </textarea>
            <small class="form-text text-muted">Enter questions in JSON format. Each question must have: question, options (array of 4), correctAnswer (index 0-3), and explanation.</small>
        </div>

        <div class="alert alert-info">
            <strong><i class="fas fa-info-circle"></i> JSON Format Example:</strong>
            <pre class="mt-2 mb-0" style="background: #fff; padding: 10px; border-radius: 5px; border: 1px solid #dee2e6;">
{
  "questions": [
    {
      "question": "What is the capital of France?",
      "options": ["London", "Paris", "Berlin", "Madrid"],
      "correctAnswer": 1,
      "explanation": "Paris is the capital and largest city of France."
    },
    {
      "question": "What is 2 + 2?",
      "options": ["3", "4", "5", "6"],
      "correctAnswer": 1,
      "explanation": "2 + 2 equals 4."
    }
  ]
}</pre>
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Create Quiz
            </button>
            <a th:href="@{/teacher/quizzes}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to Quizzes
            </a>
        </div>

    </form>

</div>
</body>
</html>